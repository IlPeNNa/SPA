<div class="profilo-container">

  <section *ngIf="atleta; else noAtleta">
    <!-- Header -->
    <section class="profilo-header">
        <img *ngIf="fotoUrl" [src]="fotoUrl" [alt]="atleta.Nome + ' ' + atleta.Cognome"
          (error)="onFotoError()" class="foto-profilo"/>
        <div *ngIf="!fotoUrl" class="no-foto">
          <span class="icona-placeholder">ğŸ‘¤</span>
        </div>
      <div class="header-info">
        <h1>{{ atleta.Nome }} {{ atleta.Cognome }}</h1>
        <p class="sottotitolo">Il tuo profilo personale</p>
        <button class="btn-modifica" (click)="modificaProfilo()">
          âœï¸ Modifica Profilo
        </button>
      </div>
    </section>

    <!-- Info -->
    <section class="info-generali">
      <!-- Informazioni Personali -->
      <section class="info-card">
        <h2>ğŸ“‹ Informazioni Personali</h2>
        <div class="info-grid">
          <div class="info-item">
            <span class="label">Data di Nascita</span>
            <span class="value">{{ atleta.Data_nascita | date:'dd/MM/yyyy' }}</span>
          </div>
          <div class="info-item">
            <span class="label">EtÃ </span>
            <span class="value">{{ calcolaEta() }} anni</span>
          </div>
          <div class="info-item">
            <span class="label">Sesso</span>
            <span class="value">{{ atleta.Sesso === 'M' ? 'Maschio' : 'Femmina' }}</span>
          </div>
        </div>
      </section>

      <!-- Caratteristiche -->
      <section class="info-card">
        <h2>ğŸ³ Caratteristiche di Gioco</h2>
        <div class="info-grid">
          <div class="info-item">
            <span class="label">Braccio Dominante</span>
            <span class="value">
              {{ atleta.Braccio_dominante === 'Dx' ? 'ğŸ‘‰ Destro' : 'ğŸ‘ˆ Sinistro' }}
            </span>
          </div>
          <div class="info-item">
            <span class="label">Stile di Gioco</span>
            <span class="value">{{ atleta.Stile_gioco }}</span>
          </div>
        </div>
      </section>

      <!-- Statistiche Bowling -->
      <section class="info-card statistiche-card">
        <h2>ğŸ“Š Le Tue Statistiche</h2>
        <div *ngIf="atleta.Numero_partite !== undefined && atleta.Numero_partite > 0; else noStats" class="statistiche-grid">
          <div class="stat-box partite">
            <div class="stat-icon">ğŸ¯</div>
            <div class="stat-content">
              <span class="stat-label">Partite Giocate</span>
              <span class="stat-value">{{ atleta.Numero_partite }}</span>
            </div>
          </div>
          <div class="stat-box totale">
            <div class="stat-icon">ğŸ†</div>
            <div class="stat-content">
              <span class="stat-label">Totale Punti</span>
              <span class="stat-value">{{ atleta.Totale_punti }}</span>
            </div>
          </div>
          <div class="stat-box media">
            <div class="stat-icon">â­</div>
            <div class="stat-content">
              <span class="stat-label">Media Punteggio</span>
              <span class="stat-value media">{{ atleta.Media }}</span>
            </div>
          </div>
        </div>
      </section>

    </section>
  </section>

  <ng-template #noAtleta>
    <div class="error-message">
      <h1>âŒ Profilo non trovato</h1>
      <span>Non Ã¨ stato possibile caricare il tuo profilo.</span>  
    </div>
  </ng-template>

  <ng-template #noStats>
    <div class="no-stats">
      <span>Non hai ancora giocato nessuna partita. Le tue statistiche appariranno qui una volta che avrai iniziato a giocare!</span>
    </div>
  </ng-template>

</div>
